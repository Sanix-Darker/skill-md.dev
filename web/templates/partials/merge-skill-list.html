{{define "merge-skill-list.html"}}
{{if .SourceErrors}}
<div class="mb-3 space-y-1">
    {{range $source, $error := .SourceErrors}}
    <div class="px-2 py-1 text-xs bg-terminal-bg border border-yellow-600/50 text-yellow-500">
        <span class="font-medium">{{if eq $source "github"}}GitHub{{else if eq $source "gitlab"}}GitLab{{else if eq $source "skills.sh"}}SKILLS.sh{{else}}{{$source}}{{end}}:</span> {{$error}}
    </div>
    {{end}}
</div>
{{end}}
{{if .Skills}}
<div class="space-y-2">
    {{range .Skills}}
    <div class="p-3 border border-terminal-border bg-terminal-bg hover:border-terminal-accent transition-colors">
        <div class="flex items-start justify-between gap-2">
            <div class="flex-1 min-w-0">
                <div class="flex items-center gap-2 mb-1">
                    <span class="font-medium text-sm truncate">{{.Name}}</span>
                    <span class="flex-shrink-0 px-1.5 py-0.5 text-xs border {{if eq .Source "local"}}border-terminal-accent text-terminal-accent{{else if eq .Source "skills.sh"}}border-purple-500 text-purple-400{{else if eq .Source "github"}}border-gray-400 text-gray-300{{else if eq .Source "gitlab"}}border-orange-500 text-orange-400{{else if eq .Source "bitbucket"}}border-blue-500 text-blue-400{{else if eq .Source "codeberg"}}border-green-500 text-green-400{{else}}border-terminal-border text-terminal-muted{{end}}">
                        {{if eq .Source "local"}}Local{{else if eq .Source "skills.sh"}}SKILLS.sh{{else if eq .Source "github"}}GitHub{{else if eq .Source "gitlab"}}GitLab{{else if eq .Source "bitbucket"}}Bitbucket{{else if eq .Source "codeberg"}}Codeberg{{else}}{{.Source}}{{end}}
                    </span>
                </div>
                {{if .Description}}
                <p class="text-xs text-terminal-muted line-clamp-1">{{truncate .Description 80}}</p>
                {{end}}
            </div>
            <button type="button"
                    onclick="addSkillToMerge('{{.ID}}', '{{.Source}}', '{{js .Name}}')"
                    class="flex-shrink-0 px-3 py-1 text-xs bg-terminal-bg text-terminal-text border border-terminal-border hover:border-terminal-accent hover:text-terminal-accent transition-colors">
                + Add
            </button>
        </div>
    </div>
    {{end}}
</div>
{{else}}
<div class="text-center py-6 text-terminal-muted">
    <p class="text-sm">{{if .Query}}No skills found for "{{.Query}}"{{else}}Enter a search term to find skills{{end}}</p>
</div>
{{end}}
{{end}}
